<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
        <title>Shaman</title>
    </head>
    <body>
        <button onclick="scan()">Scan</button>
        <a href="pages/login.html">Login</a>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript">
            function scan() {
                console.log("SCAN");
                cordova.plugins.barcodeScanner.scan(
                    function (result) {
                        console.log("We got a barcode\n" +
                            "Result: " + result.text + "\n" +
                            "Format: " + result.format + "\n" +
                            "Cancelled: " + result.cancelled);
                        window.location = "prescriptions.html"
                    },
                    function (error) {
                        console.log("Scanning failed: " + error);
                    },
                    {
                        preferFrontCamera: false, // iOS and Android
                        showFlipCameraButton: false, // iOS and Android
                        showTorchButton: false, // iOS and Android
                        torchOn: false, // Android, launch with the torch switched on (if available)
                        prompt: "Place a barcode inside the scan area", // Android
                        resultDisplayDuration: 500, // Android, display scanned text for X ms. 0 suppresses it entirely, default 1500
                        formats: "QR_CODE,DATA_MATRIX", // default: all but PDF_417 and RSS_EXPANDED
                        orientation: "", // Android only (portrait|landscape), default unset so it rotates with the device
                        disableAnimations: true, // iOS
                        disableSuccessBeep: false // iOS
                    }
                );
            }
        </script>
    </body>
</html>